export const evil = (exp) => {
  return new Function(`return ${exp}`)();
};

export const evalFSymbols = (expression) => {
  let result = expression.replaceAll(/\*\\pi/g, " * Math.PI");
  result = result.replaceAll(/\\pi\*/g, " * Math.PI");

  result = result.replaceAll(/\*\\e/g, " * Math.E");
  result = result.replaceAll(/\\e\*/g, "Math.E * ");

  result = result.replaceAll(
    /\\phi/g,
    "1.618033988749894848204586834365638117720309179805762862135448622705260462818902449707207204189391137484754088075386891752126633862223536931793180060766726331239480494707911915326734302824418653615035479644715956365691705670832630" +
      "93680965472741432364674996466697398143997308744368726003380908177068729572036547874980598308615836957947097531639434378385662007612195835738520240851492479820084728100644111494270225587422893476908516728696216029710" +
      "8780138296619973040197441042138007801902404495914497041447684868330610788359746558864909097673216269724736124557462474118805348953309155424508827542510106944180958690272007320479778057080832161678158374864" +
      "878242763385015876328771816705907416855482947952329079243907982658590232717362489615276877785887925196985577251909769644770571139476131860893012242330135776215103437504435077655576630687644535122588" +
      "8790581828897691730171713609458809384260901805940390140582799646913905320193111536936033369914561058830160338218600289424502382780425897118770969767997097491624100720705526277855845647423531489" +
      "8677589345372996289417154045813149499124001684369945916534415528852034138599391453237219940424798538918661701476477392794633479549179879651289146908667322963785419232708657575569925860" +
      "90794533690326281608640834523539674523393927971358467914258544702123314151544859243167304552506791709557625186480991164042982437873070757784372501492929143479131577381116082914739916" +
      "90765160939644716448284194972720279837343933573729436146485653714120141876779879964907026993256951596558213895023474940280380887955109534374655586637843655342377698867972658113905" +
      "8590794701154522111890004344531326983716751217088867371605002212781939368360367735856739839850904277939512971705426987322347628169622437373629303558981101403779353394274427" +
      "9274488170877734590662727674978803747952627087699809480832789118549772914486978142737515927292746113674604417709960538602858347390860367749175926224125524282688911758099" +
      "859274488170877734590662727674978803747952627087699809480832789118549772914486978142737515927292746113674604417709960538602858347390860367749175926224125524282688911758099" +
      "859274488170877734590662727674978803747952627087699809480832789118549772914486978142737515927292746113674604417709960538602858347390860367749175926224125524282688911758099" +
      "859274488170877734590662727674978803747952627087699809480832789118549772914486978142737515927292746113674604417709960538602858347390860367749175926224125524282688911758099"
  );

  result = result.replaceAll(/{/g, "(");
  result = result.replaceAll(/}/g, ")");

  console.log(result);

  return evil(result);
};

export const parseISymbols = (expression) => {
  let result = expression.replaceAll(/t/g, "x");
  result = result.replaceAll(/\\pi/g, "PI");
  console.log(result);
  return result;
};
